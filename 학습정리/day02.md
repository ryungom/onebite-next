# ⚡️ 한입 Next 강의 정리

## 둘째날

### 페이지라우팅
- pages 폴더 하위의 파일명을 기반으로 라우팅이 이루어지게 됌
- 폴더명을 만들고 하위에 라우팅명의 파일을 넣어도 됌(이럴경우는 index.js를 넣어야 함)
- 동적경로는 앱라우팅과는 달리 폴더명에 [ ]를 쓰지 않고 파일명에 [ ]를 넣어줌.

### 초기 세팅
- 항상 만들어둔것만 계속 사용했지 초기 set-up 항상 헷갈림. 잘 숙지해두자
- npx로 설치 : npx create-next-app@14
  - npx : npm의 최신 버전을 다운로드 없이 바로 접속해서 다운받을 수 있도록 하는.
  - create-next-app : 일종의 보일러 플레이트. 공식으로 이렇게 설치하라.
  - 14버전에서는 앱라우터 외에도 페이지라우터도 모두 안정적으로 사용할 수 있음.
- app 컴포넌트 : react처럼 최상위 부모 component가 됌
  - 전체 컴포넌트에 포함되는 비즈니스 로직등은 여기에 넣어두면 됌
- document 컴포넌트 : 모든 페이지에 적용되어야 하는 HTML 컴포넌트
  - 메타태그 analytic등은 여기에 넣어둠.
- next.config.mjs : next 기본설정.
  - strict모드는 여기에서 끄고 켤 수 있음.
- 쿼리스트링 설정
  - useRouter 훅을 불러와서 사용. 다만 페이지 라우터는 next/navigation을 사용쓰는것이 아닌 next/router를 사용해야함.
  - 쿼리스트링이 있으면 그 페이지가 2번 랜더링 됌.
  - 사용할때는 route.query.{쿼리스트링 key값}
  - pathname 쓸때도 따로 usePathname 쓰는것이 아닌 route.query.[페이지명 혹은 다이나믹 라우팅 폴더명]
    - 여러개의 pathname을 가져오려면 catch all Segment 페이지를 넣어주면 됌. [...id] 이렇게 전개연산자 넣어서 설정해주면 됌
      - 여러개 저장되는건 배열형태로 저장됌
      - 다만 catch all segment로 대응하지 않는 페이지가 있음. 바로 /뒤에 아무것도 없는페이지. 이거 해결하려면 index 파일을 넣어주거나, 대괄호를 한번 더 감싸주면 /뒤에가 없는 페이지도 대응됌. -> optional catch all segement.
- 404페이지 : 최상위 root에 404.tsx 페이지 만들어두면 됌
