# ⚡️ 한입 Next 강의 정리

## 아홉 번째 날

### 페이지라우터 정리
- 장점
  - 파일시스템 기반의 간편한 페이지 라우팅 제공
  - 다양한 사전랜더링 제공
- 단점
  - 페이지별 레이아웃 설정이 번거로움
  - 데이터 페칭이 페이지 컴포넌트 집중
  - 불필요한 컴포넌트 JS Bundle 포함

### 앱라우터 기본
- Next 13부터 적용된 페이지라우터를 대체하는 새로운 기술.
- 페이지라우터는 next/router에 내장된 useRouter로 불러와야 했지만 앱라우터에서는 params, searchParams는 내장객체로 호출이 가능.
  - 단 15버전부터 async로 호출해야함. params, searchParams는 Promise객체로 호출되기때문. 그리고 **서버컴포넌트 한정**.
    - 클라이언트 컴포넌트는 usePathName, useParams 이용
  - 서버컴포넌트는 사전랜더링을 위해 딱 한번만 실행되므로 비동기적으로 실행되어도 문제 없음
- 동적경로는 페이지라우터는 jsx 파일명으로 구분하지만 앱라우터는 폴더명으로 구분.
  - 캐치 올 세그먼트는 페이지라우터랑 동일 (폴더명 기준)
- 폴더별로 layout 파일이 존재. 손쉽게 중첩된 레이아웃 구현 가능
- 최상위 layout : 현재 앱의 최상위 root layout. 제일먼저 보여주게 되기 때문에 절대로 없어지면 안되는 파일. 모든 페이지에 전부 동일하게 적용되는 layout

### 라우트 그룹
- 앱라우터에서 특정 페이지에만 특정 레이아웃을 적용시키는것
- (소괄호)폴더명으로 적용. 경로상으로 아무런 영향을 미치지 않고 레이아웃만 동일하게 적용되게 됌. 이 안에 공통레이아웃으로 묶을 페이지(폴더)를 넣어두면 됌

---
### 느낀점
- 캐치 올 세그먼트가 맨처음에 배울때 살짝 이해안됬는데 페이지라우터 공부하고 넘어오니까 이해 완전 쏙쏙 잘 된다. 그리고 라우트그룹도 기존에 사용할때는 경로에 영향 안주니까 일종의 폴더묶음으로 사용했었는데 이렇게 공통레이아웃으로 묶을 수 있다는걸 새롭게 알게 되었다. 그뿐아니라 layout 컴포넌트도 사용하기 살짝 껄끄러웠는데 이제 확실히 적재적소에 잘 쓸 수 있을것 같다.
