# ⚡️ 한입 Next 강의 정리

## 셋째날

### 네비게이팅
- a 태그는 CSR, SSR 방식으로 페이지 이동하는 방식이 아니기 때문에 Next에서는 Link로 이동.
- route.push로 이동하는 방식 또한 CSR 방식으로 이동하게 됌.
  - replace : 뒤로가기 방지하면서 페이지 이동하는 방식

### 프리페칭
- 사전에 미리 불러옴. > 페이지를 사전에 불러오는것
- 이동할 가능성이 있는 모든 페이지를 불러오는것. 사전랜더링으로 JS Bundle 호출하는 횟수도 줄이고 용량도 줄이고.
- 서버로부터 요청하는 JS Bundle을 사전에 미리 불러옴.
- 이로인해 초기접속시 Hydration을 빠르게 해줄 수 있음.
- **주의) 개발모드인 dev로 접속시에는 프리페칭이 발생하지 않음.** 빌드해서 Production 모드로 가동해야함.
  - production모드로 실행해서 개발자모드의 Network로 들어가면 미리 프리페칭 되어있는 JS Bundle을 확인할 수 있음.
  - 기본적으로 Link태그 위주로 프리페칭이 완료되지만 onClick 이벤트의 route로 이동하는것은 포함이 안됌.
    - 이럴경우는 useEffect 안에 route객체의 prefetch를 명시해주면 프리페칭 완료됌
- 굳이 프리페치가 필요하지 않을것 같은 페이지는 해당 Link 태그에 `prefetch={false}` 값 넣어주면 됌

### API ROUTES
- api 폴더 안에 폴더를 만들어 두면 api 응답값처럼 간이백엔드 서버 느낌으로 만들어줄 수 있음
- 

### 스타일링
- global CSS는 페이지나 컴포넌트 등 App 컴포넌트가 아닌곳에서 import로 불러올 수 없다. 즉 global CSS는 App 컴포넌트에서...
- next에서는 css module 작업 지원.

  
---
### 느낀점
- Link 태그 외에 이벤트로 발생하는 페이지 이동은 CSR이 아닌줄 알았는데 CSR 방식이어서 한편으로는 다행이다 싶었다. 랜더링 방식이 일반적인 a 태그같이 어떠한 방식도 아닌줄 알았는데...
- 프리페칭에 대해서도 개념정리가 완료되었다. 그래도 Link 태그를 사용하면 초기 랜더링시 페이지 프리페칭을 가져오므로 특별한 경우가 아닌, 특히 네비게이팅 관련된 사항이라면 Link 태그 쓰는게 맞을것 같다. route.prefetch도 사용이 가능하긴 하지만 가능하면 Link위주로 사용하는것으로?
